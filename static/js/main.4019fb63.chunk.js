(this.webpackJsonpstarbase=this.webpackJsonpstarbase||[]).push([[0],{271:function(e,t,a){e.exports=a(472)},472:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(14),c=a.n(i),l=a(52),o=a(216),u=a(24),s=a(36),m=a.n(s),d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{items:[],loading:!1,search:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_ITEMS_REQUEST":return Object(u.a)({},e,{loading:!0});case"FETCH_ITEMS_SUCCESS":return{loading:!1,items:t.payload,error:""};case"FETCH_ITEMS_FAILURE":return{loading:!1,items:[],error:t.payload};case"SEARCH_ITEM":return Object(u.a)({},e,{search:t.payload});case"SELECT_ITEM":return Object(u.a)({},e,{selectItem:t.payload});default:return e}},E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{stations:[],loading:!1,search:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_STATIONS_REQUEST":return Object(u.a)({},e,{loading:!0});case"FETCH_STATIONS_SUCCESS":return{loading:!1,stations:t.payload,error:""};case"FETCH_STATIONS_FAILURE":return{loading:!1,stations:[],error:t.payload};case"SEARCH_STATION":return Object(u.a)({},e,{search:t.payload});default:return e}},p=function(e){return{type:"FETCH_ITEM_PRICES_STATION_FAILURE",payload:e}},g=function(e,t,a,n){return{type:"FETCH_ITEM_PRICES_STATION_SUCCESS",stationId:e,itemId:t,prices:a,transactionType:n}},f=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"sell";return function(n){n({type:"FETCH_ITEM_PRICES_STATION_REQUEST"}),m.a.get("".concat("https://stardatabase.palladium46.fr","/api/price/").concat(a,"/item/").concat(t,"/station/").concat(e)).then((function(r){n(g(e,t,r.data,a))})).catch((function(e){n(p(e.message))}))}},b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{station:{items:[]},loading:!1,search:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_ITEMS_STATION_REQUEST":return Object(u.a)({},e,{loading:!0});case"FETCH_ITEMS_STATION_SUCCESS":return{loading:!1,station:t.payload,error:""};case"FETCH_ITEMS_STATION_FAILURE":return{loading:!1,station:[],error:t.payload};case"FETCH_ITEM_PRICES_STATION_REQUEST":return Object(u.a)({},e,{loading:!0});case"FETCH_ITEM_PRICES_STATION_SUCCESS":var n=a(123)(),r=n(e.station),i=r.items.find((function(e){return e.id===t.itemId}));return t.prices.map((function(e){return e.value=parseFloat(e.value),e})),i["".concat(t.transactionType,"Prices")]=t.prices,i["".concat(t.transactionType,"DataPrice")]={name:i.name,data:Object.keys(t.prices).map((function(e){return[parseInt(t.prices[e].date),t.prices[e].value]}))},{loading:!1,station:r,error:""};case"FETCH_ITEM_PRICES_STATION_FAILURE":return{loading:!1,station:[],error:t.payload};case"CLEAR_ITEMS_STATION":return{loading:!1,station:{items:[]}};case"SEARCH_ITEM_STATION":return Object(u.a)({},e,{search:t.payload});case"SELECT_ITEM_STATION":return Object(u.a)({},e,{selectItem:t.payload});default:return e}},h=function(e){return{type:"FETCH_ITEM_DETAIL_PRICES_FAILURE",payload:e}},y=function(e,t,a,n){return{type:"FETCH_ITEM_DETAIL_PRICES_SUCCESS",stationId:e,itemId:t,prices:a,transactionType:n}},v=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"sell";return function(n){n({type:"FETCH_ITEM_DETAIL_PRICES_REQUEST"}),m.a.get("".concat("https://stardatabase.palladium46.fr","/api/price/").concat(a,"/item/").concat(t,"/station/").concat(e)).then((function(r){n(y(e,t,r.data,a))})).catch((function(e){n(h(e.message))}))}},S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{item:{imgPath:null,stations:[],type:{name:null,subCategory:{name:null,category:{name:null}}}},loading:!1,search:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_ITEM_DETAIL_REQUEST":return Object(u.a)({},e,{loading:!0});case"FETCH_ITEM_DETAIL_SUCCESS":return{loading:!1,item:t.payload,error:""};case"FETCH_ITEM_DETAIL_FAILURE":return{loading:!1,item:[],error:t.payload};case"FETCH_ITEM_DETAIL_PRICES_REQUEST":return Object(u.a)({},e,{loading:!0});case"FETCH_ITEM_DETAIL_PRICES_SUCCESS":var n=a(123)(),r=n(e.item),i=r.stations.find((function(e){return e.id===t.stationId}));t.prices.map((function(e){return e.value=parseFloat(e.value),e})),i["".concat(t.transactionType,"Prices")]=t.prices,i["".concat(t.transactionType,"DataPrice")]={name:i.name,data:Object.keys(t.prices).map((function(e){return[parseInt(t.prices[e].date),t.prices[e].value]}))};var c=void 0!==t.prices[t.prices.length-1]?t.prices[t.prices.length-1].value:null,l=void 0!==t.prices[t.prices.length-2]?t.prices[t.prices.length-2].value:null;return null!==c&&(i["sell"===t.transactionType?"currentSellingPrice":"currentBuyingPrice"]=c),null!==l&&(i["sell"===t.transactionType?"previousSellingPrice":"previousBuyingPrice"]=l),{loading:!1,item:r,error:""};case"FETCH_ITEM_DETAIL_PRICES_FAILURE":return{loading:!1,station:[],error:t.payload};case"CLEAR_ITEM_DETAIL":return{loading:!1,item:{imgPath:null,stations:[],type:{name:null,subCategory:{name:null,category:{name:null}}}}};case"SEARCH_ITEM_DETAIL":return Object(u.a)({},e,{search:t.payload});case"SELECT_STATION_DETAIL":return Object(u.a)({},e,{selectStation:t.payload});default:return e}},T=Object(l.c)({items:d,stations:E,itemsStation:b,itemDetail:S}),C=(0,l.d)(Object(l.a)(o.a)),_=Object(l.e)(T,C),I=a(23),O=a(19),P=a(514),j=a(510),A=a(512),w=a(515),F=a(231),N=a(475),D=Object(j.a)((function(e){return{offset:e.mixins.toolbar,title:{flexGrow:1}}}));var L=function(){var e=D();return r.a.createElement(r.a.Fragment,null,r.a.createElement(A.a,null,r.a.createElement(P.a,null,r.a.createElement(w.a,null,r.a.createElement(F.a,{variant:"h6",className:e.title},"Star-[Data]-Base"),r.a.createElement(N.a,{component:I.b,to:"/StarDataBase/stations",color:"inherit"},"Stations"),r.a.createElement(N.a,{component:I.b,to:"/StarDataBase/items",color:"inherit"},"Items")))),r.a.createElement("div",{className:e.offset}))},R=a(10),H=a(524),k=a(16),M=a(521),B=a(522),x=a(520),U=a(474),z=a(518),Q=a(517),V=a(516),K=a(535),q=Object(j.a)((function(e){return{visuallyHidden:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1}}}));var W=function(e){var t=e.headCells,a=e.order,n=e.orderBy,i=e.onRequestSort,c=q();return r.a.createElement(V.a,null,r.a.createElement(Q.a,null,t.map((function(e){return r.a.createElement(z.a,{key:e.id,align:e.numeric?"right":"left",padding:e.disablePadding?"none":"default",sortDirection:n===e.id&&a},r.a.createElement(K.a,{active:n===e.id,direction:n===e.id?a:"asc",onClick:(t=e.id,function(e){i(e,t)})},e.label,n===e.id?r.a.createElement("span",{className:c.visuallyHidden},"desc"===a?"sorted descending":"sorted ascending"):null));var t}))))},G=a(536),J=a(519),Y=a(533),X=a(531),Z=a(534);var $=function(e){var t=e.item;return r.a.createElement(Z.a,{"aria-label":"breadcrumb",gutterBottom:!0},r.a.createElement(F.a,{variant:"caption"},t.type.subCategory.category.name),r.a.createElement(F.a,{variant:"caption"},t.type.subCategory.name),r.a.createElement(F.a,{variant:"caption",color:"textPrimary"},t.type.name))},ee=Object(j.a)((function(e){return{section1:{margin:e.spacing(2)},avatar:{width:e.spacing(15),height:e.spacing(15),margin:e.spacing(1)}}}));var te=function(e){var t=e.item,a=ee();return r.a.createElement("div",{className:a.section1},r.a.createElement(X.a,{display:"flex",justifyContent:"center"},r.a.createElement(G.a,{src:null!==t.imgPath?"".concat("https://stardatabase.palladium46.fr").concat(t.imgPath):t.imgPath,className:a.avatar})),r.a.createElement(F.a,{variant:"h4"},t.name),r.a.createElement($,{item:t}),r.a.createElement(F.a,{gutterBottom:!0,color:"textSecondary",variant:"body2"},t.description))},ae=Object(j.a)((function(e){return{drawer:{width:250,"@media (min-width: 500px)":{width:400}},button:{"& > *":{margin:e.spacing(1)}}}}));var ne=function(e){var t=e.item,a=ae(),i=Object(R.b)(),c=Object(n.useState)(!1),l=Object(k.a)(c,2),o=l[0],u=l[1],s=function(e){return function(a){("keydown"!==a.type||"Tab"!==a.key&&"Shift"!==a.key)&&(i(function(e){return{type:"SELECT_ITEM",payload:e}}(t)),u(e))}};return r.a.createElement(r.a.Fragment,null,r.a.createElement(Q.a,{hover:!0},r.a.createElement(z.a,null,r.a.createElement(G.a,{src:null!==t.imgPath?"".concat("https://stardatabase.palladium46.fr").concat(t.imgPath):t.imgPath})),r.a.createElement(z.a,null,t.name),r.a.createElement(z.a,null,t.type.subCategory.category.name),r.a.createElement(z.a,null,t.type.subCategory.name),r.a.createElement(z.a,null,t.type.name),r.a.createElement(z.a,{align:"right"},r.a.createElement(J.a,{size:"small","aria-label":"small outlined button group",className:a.button},r.a.createElement(N.a,{variant:"contained",color:"primary",component:I.b,to:"/StarDataBase/item/".concat(t.id)},"Station Prices"),r.a.createElement(N.a,{variant:"contained",color:"primary",onClick:s(!0)},"Show")))),r.a.createElement(Y.a,{anchor:"right",open:o,onClose:s(!1)},r.a.createElement(X.a,{className:a.drawer,role:"presentation",onClick:s(!1),onKeyDown:s(!1)},r.a.createElement(te,{item:t}))))};var re=function(e){var t=e.headCells,a=Object(R.c)((function(e){return e.items.search})),i=Object(R.c)((function(e){return e.items.items})),c=Object(n.useState)(i),l=Object(k.a)(c,2),o=l[0],u=l[1],s=Object(n.useState)("asc"),m=Object(k.a)(s,2),d=m[0],E=m[1],p=Object(n.useState)("name"),g=Object(k.a)(p,2),f=g[0],b=g[1];function h(e,t,a){return t[a]<e[a]?-1:t[a]>e[a]?1:0}return Object(n.useEffect)((function(){if(i.length>0&&a){var e=a.toLowerCase(),t=i.filter((function(t){return Object.keys(t).some((function(n){return"string"===typeof t[n]?t[n].toLowerCase().includes(e):"number"===typeof t[n]&&t[n]===Number(a)}))}));u(t)}else u(i)}),[i,a]),r.a.createElement(x.a,{component:U.a,variant:"outlined"},r.a.createElement(M.a,{size:"small"},r.a.createElement(W,{headCells:t,order:d,orderBy:f,onRequestSort:function(e,t){E(f===t&&"asc"===d?"desc":"asc"),b(t)},rowCount:o.length}),r.a.createElement(B.a,null,o?function(e,t){var a=e.map((function(e,t){return[e,t]}));return a.sort((function(e,a){var n=t(e[0],a[0]);return 0!==n?n:e[1]-a[1]})),a.map((function(e){return e[0]}))}(o,function(e,t){return"desc"===e?function(e,a){return h(e,a,t)}:function(e,a){return-h(e,a,t)}}(d,f)).map((function(e){return r.a.createElement(ne,{key:e.id,item:e})})):null)))},ie=a(530),ce=a(523),le=a(221),oe=a.n(le);var ue=function(e){var t=e.searchHandler;return r.a.createElement(ie.a,{id:"input-with-icon-textfield",label:"Search",InputProps:{startAdornment:r.a.createElement(ce.a,{position:"start"},r.a.createElement(oe.a,null))},fullWidth:!0,onChange:t})},se=[{id:"image",numeric:!1,disablePadding:!1,label:""},{id:"name",numeric:!1,disablePadding:!1,label:"Name"},{id:"category",numeric:!1,disablePadding:!1,label:"Category"},{id:"subCategory",numeric:!1,disablePadding:!1,label:"Sub Category"},{id:"type",numeric:!1,disablePadding:!1,label:"Type"},{id:"action",numeric:!1,disablePadding:!1,label:""}];var me=function(){var e=Object(R.b)();return Object(n.useEffect)((function(){e((function(e){e({type:"FETCH_ITEMS_REQUEST"}),m.a.get("".concat("https://stardatabase.palladium46.fr","/api/item")).then((function(t){e({type:"FETCH_ITEMS_SUCCESS",payload:t.data})})).catch((function(t){e(function(e){return{type:"FETCH_ITEMS_FAILURE",payload:e}}(t.message))}))}))}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(H.a,{container:!0,spacing:3},r.a.createElement(H.a,{item:!0},r.a.createElement(ue,{searchHandler:function(t){e({type:"SEARCH_ITEM",payload:t.target.value})}})),r.a.createElement(H.a,{item:!0,xs:12},r.a.createElement(re,{headCells:se}))))},de=a(153),Ee=a(115),pe=a.n(Ee),ge=a(58),fe=a.n(ge),be=a(59);var he=function(){var e=Object(R.c)((function(e){return e.itemsStation.station.items})),t=Object(n.useState)([]),i=Object(k.a)(t,2),c=i[0],l=i[1];Object(n.useEffect)((function(){if(e.length>0){var t=a(123)()(e),n=[];t.map((function(e){return void 0!==e.sellDataPrice&&e.sellDataPrice.data.length>0&&(e.sellDataPrice.data=[].concat(Object(de.a)(e.sellDataPrice.data),[[pe()().valueOf(),parseFloat(e.currentSellingPrice)]]),n=[].concat(Object(de.a)(n),[e.sellDataPrice])),e})),l(n)}return function(){l([])}}),[e]);var o={chart:{id:"chart",locales:[be],defaultLocale:"fr",animations:{enabled:!1},zoom:{type:"xy",autoScaleYaxis:!0}},xaxis:{type:"datetime"},stroke:{curve:"smooth",width:2},zoom:{enabled:!0},markers:{size:0},dataLabels:{enabled:!1}},u={chart:{locales:[be],defaultLocale:"fr",selection:{enabled:!0,xaxis:{min:pe()().subtract(5,"days").valueOf(),max:pe()().valueOf()}},brush:{target:"chart",enabled:!0},animations:{enabled:!1}},xaxis:{type:"datetime",tooltip:{enabled:!1}},yaxis:{tickAmount:2},stroke:{curve:"smooth"},legend:{show:!1},markers:{size:0},dataLabels:{enabled:!1}};return r.a.createElement(r.a.Fragment,null,c.length>0?r.a.createElement(r.a.Fragment,null,r.a.createElement(fe.a,{options:o,height:"300",series:c,type:"line",width:"100%"}),r.a.createElement(fe.a,{options:u,height:"100",series:c,type:"line",width:"100%"})):null)},ye=a(525),ve=a(526),Se=a(527),Te=a(113),Ce=a(114),_e=Object(j.a)((function(e){return{moneyImage:{width:20}}}));var Ie=function(e){var t=e.value,a=e.previousValue,n=void 0===a?null:a,i=_e();return r.a.createElement(X.a,{className:i.moneyFont,display:"flex",alignItems:"center",justifyContent:"flex-end"},void 0!==t?r.a.createElement(r.a.Fragment,null,r.a.createElement(F.a,{variant:"h6"},t),r.a.createElement("img",{className:i.moneyImage,src:"".concat("/StarDataBase","/img/money.png"),alt:"Credit"}),t<(n=null===n?t:n)?r.a.createElement(ye.a,{style:{color:Te.a[500]}}):t>n?r.a.createElement(ve.a,{style:{color:Ce.a[500]}}):r.a.createElement(Se.a,null)):r.a.createElement(F.a,{variant:"h6"},"N/A"))},Oe=a(28),Pe=a(529),je=a(528);var Ae=function(e){var t=e.dataPrice,a=void 0===t?[]:t,n={chart:{toolbar:{show:!1},zoom:{enabled:!1},animations:{enabled:!1},locales:[be],defaultLocale:"fr"},grid:{padding:{right:30,left:20}},xaxis:{type:"datetime",labels:{show:!1}},yaxis:{labels:{show:!1}},stroke:{width:5},markers:{size:0}};return r.a.createElement(r.a.Fragment,null,a.data.length>1?r.a.createElement(fe.a,{options:n,height:"200",series:[a],type:"area",width:"100%"}):null)},we=Object(j.a)((function(e){return{section1:{margin:e.spacing(2)},avatar:{width:e.spacing(15),height:e.spacing(15),margin:e.spacing(1)}}}));var Fe=function(e){var t=e.item,a=we();return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:a.section1},r.a.createElement(X.a,{display:"flex",justifyContent:"center"},r.a.createElement(G.a,{src:null!==t.imgPath?"".concat("https://stardatabase.palladium46.fr").concat(t.imgPath):t.imgPath,className:a.avatar})),r.a.createElement(F.a,{variant:"h4"},t.name),r.a.createElement($,{item:t}),r.a.createElement(F.a,{gutterBottom:!0,color:"textSecondary",variant:"body2"},t.description)),r.a.createElement(je.a,{variant:"middle"}),r.a.createElement("div",{className:a.section1},r.a.createElement(X.a,{display:"flex",alignItems:"center",justifyContent:"space-between"},r.a.createElement(F.a,{variant:"h5"},"Selling price"),r.a.createElement(Ie,{value:t.currentSellingPrice,previousValue:t.previousSellingPrice})),void 0!==t.sellDataPrice?r.a.createElement(Ae,{dataPrice:t.sellDataPrice}):null),r.a.createElement(je.a,{variant:"middle"}),r.a.createElement("div",{className:a.section1},r.a.createElement(X.a,{display:"flex",alignItems:"center",justifyContent:"space-between"},r.a.createElement(F.a,{variant:"h5"},"Buying price"),r.a.createElement(Ie,{value:t.currentBuyingPrice,previousValue:t.previousBuyingPrice})),void 0!==t.buyDataPrice?r.a.createElement(Ae,{dataPrice:t.buyDataPrice}):null))},Ne=Object(j.a)({drawer:{width:250,"@media (min-width: 500px)":{width:400}}});var De=function(e){var t=e.item,a=Ne(),i=Object(R.b)(),c=Object(R.c)((function(e){return e.itemsStation.station})),l=Object(n.useState)(!1),o=Object(k.a)(l,2),u=o[0],s=o[1];Object(n.useEffect)((function(){var e,a;i((e=c.id,a=t.id,f(e,a,"sell"))),i(function(e,t){return f(e,t,"buy")}(c.id,t.id))}),[]);var m=function(e){return function(a){("keydown"!==a.type||"Tab"!==a.key&&"Shift"!==a.key)&&(i(function(e){return{type:"SELECT_ITEM_STATION",payload:e}}(t)),s(e))}};return r.a.createElement(r.a.Fragment,null,r.a.createElement(Q.a,{hover:!0},r.a.createElement(z.a,null,r.a.createElement(G.a,{src:null!==t.imgPath?"".concat("https://stardatabase.palladium46.fr").concat(t.imgPath):t.imgPath})),r.a.createElement(z.a,null,r.a.createElement(Pe.a,{component:I.b,to:"/StarDataBase/item/".concat(t.id),color:"inherit"},t.name)),r.a.createElement(z.a,null,t.type.subCategory.name),r.a.createElement(z.a,null,t.type.name),r.a.createElement(z.a,null,void 0!==t.sellPrices&&t.sellPrices.length>1?r.a.createElement(Oe.b,{width:100,height:30,data:t.sellPrices},r.a.createElement(Oe.a,{type:"monotone",dataKey:"value",stroke:"#8884d8",strokeWidth:2,dot:!1,isAnimationActive:!1}),r.a.createElement(Oe.c,{type:"number",hide:!0,domain:["auto","auto"]})):null),r.a.createElement(z.a,{align:"right"},r.a.createElement(Ie,{value:t.currentSellingPrice,previousValue:t.previousSellingPrice})),r.a.createElement(z.a,null,void 0!==t.buyPrices&&t.buyPrices.length>1?r.a.createElement(Oe.b,{width:100,height:30,data:t.buyPrices},r.a.createElement(Oe.a,{type:"monotone",dataKey:"value",stroke:"#8884d8",strokeWidth:2,dot:!1,isAnimationActive:!1}),r.a.createElement(Oe.c,{type:"number",hide:!0,domain:["auto","auto"]})):null),r.a.createElement(z.a,{align:"right"},r.a.createElement(Ie,{value:t.currentBuyingPrice,previousValue:t.previousBuyingPrice})),r.a.createElement(z.a,{align:"right"},r.a.createElement(N.a,{size:"small",variant:"contained",color:"primary",onClick:m(!0)},"Show"))),r.a.createElement(Y.a,{anchor:"right",open:u,onClose:m(!1)},r.a.createElement(X.a,{className:a.drawer,role:"presentation",onClick:m(!1),onKeyDown:m(!1)},r.a.createElement(Fe,{item:t}))))};var Le=function(e){var t=e.headCells,a=Object(R.c)((function(e){return e.itemsStation.search})),i=Object(R.c)((function(e){return e.itemsStation.station.items})),c=Object(n.useState)([]),l=Object(k.a)(c,2),o=l[0],u=l[1],s=Object(n.useState)("asc"),m=Object(k.a)(s,2),d=m[0],E=m[1],p=Object(n.useState)("name"),g=Object(k.a)(p,2),f=g[0],b=g[1];function h(e,t,a){return t[a]<e[a]?-1:t[a]>e[a]?1:0}return Object(n.useEffect)((function(){if(i.length>0&&a){var e=a.toLowerCase(),t=i.filter((function(t){return Object.keys(t).some((function(n){return"string"===typeof t[n]?t[n].toLowerCase().includes(e):"number"===typeof t[n]&&t[n]===Number(a)}))}));u(t)}else u(i)}),[i,a]),r.a.createElement(r.a.Fragment,null,o.length>0?r.a.createElement(x.a,{component:U.a,variant:"outlined"},r.a.createElement(M.a,{size:"small"},r.a.createElement(W,{headCells:t,order:d,orderBy:f,onRequestSort:function(e,t){E(f===t&&"asc"===d?"desc":"asc"),b(t)},rowCount:o.length}),r.a.createElement(B.a,null,o?function(e,t){var a=e.map((function(e,t){return[e,t]}));return a.sort((function(e,a){var n=t(e[0],a[0]);return 0!==n?n:e[1]-a[1]})),a.map((function(e){return e[0]}))}(o,function(e,t){return"desc"===e?function(e,a){return h(e,a,t)}:function(e,a){return-h(e,a,t)}}(d,f)).map((function(e){return r.a.createElement(De,{key:e.id,item:e})})):null))):r.a.createElement(F.a,{variant:"h5"},"No items"))},Re=a(230),He=a.n(Re);var ke=function(){var e=Object(O.f)();return r.a.createElement(N.a,{color:"inherit",onClick:function(){return e.goBack()}},r.a.createElement(He.a,null),"Back")},Me=[{id:"image",numeric:!1,disablePadding:!1,label:""},{id:"name",numeric:!1,disablePadding:!1,label:"Name"},{id:"subCategory",numeric:!1,disablePadding:!1,label:"Sub Category"},{id:"type",numeric:!1,disablePadding:!1,label:"Type"},{id:"sellpriceevo",numeric:!1,disablePadding:!1,label:"Sell Price Evo."},{id:"currentSellingPrice",numeric:!0,disablePadding:!1,label:"Sell Price"},{id:"buypriceevo",numeric:!1,disablePadding:!1,label:"Buy Price Evo."},{id:"currentBuyingPrice",numeric:!0,disablePadding:!1,label:"Buy Price"},{id:"action",numeric:!1,disablePadding:!1,label:""}];var Be=function(){var e=Object(O.g)().id,t=Object(R.b)(),a=Object(R.c)((function(e){return e.itemsStation.station}));return Object(n.useEffect)((function(){var a;return t((a=e,function(e){e({type:"FETCH_ITEMS_STATION_REQUEST"}),m.a.get("".concat("https://stardatabase.palladium46.fr","/api/station/").concat(a)).then((function(t){e({type:"FETCH_ITEMS_STATION_SUCCESS",payload:t.data})})).catch((function(t){e(function(e){return{type:"FETCH_ITEMS_STATION_FAILURE",payload:e}}(t.message))}))})),function(){t({type:"CLEAR_ITEMS_STATION"})}}),[e]),r.a.createElement(r.a.Fragment,null,r.a.createElement(ke,null),r.a.createElement(F.a,{variant:"h3"},a.name),r.a.createElement(H.a,{container:!0,spacing:3},r.a.createElement(H.a,{item:!0,xs:12},r.a.createElement(he,null))),r.a.createElement(H.a,{container:!0,spacing:3},r.a.createElement(H.a,{item:!0},r.a.createElement(ue,{searchHandler:function(e){t({type:"SEARCH_ITEM_STATION",payload:e.target.value})}})),r.a.createElement(H.a,{item:!0,xs:12},r.a.createElement(Le,{headCells:Me}))))};var xe=function(){var e=Object(R.b)();return r.a.createElement(H.a,{item:!0},r.a.createElement(ue,{searchHandler:function(t){e({type:"SEARCH_STATION",payload:t.target.value})}}))};var Ue=function(e){var t=e.id,a=e.name;return r.a.createElement(Q.a,{hover:!0},r.a.createElement(z.a,null,r.a.createElement(F.a,null,a)),r.a.createElement(z.a,{align:"right"},r.a.createElement(N.a,{variant:"contained",component:I.b,to:"/StarDataBase/station/".concat(t,"/items"),color:"primary"},"Show items prices")))};var ze=function(e){var t=e.stations,a=e.headCells,i=Object(R.c)((function(e){return e.stations.search})),c=Object(n.useState)(t),l=Object(k.a)(c,2),o=l[0],u=l[1],s=Object(n.useState)("asc"),m=Object(k.a)(s,2),d=m[0],E=m[1],p=Object(n.useState)("name"),g=Object(k.a)(p,2),f=g[0],b=g[1];function h(e,t,a){return t[a]<e[a]?-1:t[a]>e[a]?1:0}return Object(n.useEffect)((function(){if(t.length>0&&i){var e=i.toLowerCase(),a=t.filter((function(t){return Object.keys(t).some((function(a){return"string"===typeof t[a]?t[a].toLowerCase().includes(e):"number"===typeof t[a]&&t[a]===Number(i)}))}));u(a)}else u(t)}),[t,i]),r.a.createElement(x.a,{component:U.a,variant:"outlined"},r.a.createElement(M.a,null,r.a.createElement(W,{headCells:a,order:d,orderBy:f,onRequestSort:function(e,t){E(f===t&&"asc"===d?"desc":"asc"),b(t)},rowCount:o.length}),r.a.createElement(B.a,null,o?function(e,t){var a=e.map((function(e,t){return[e,t]}));return a.sort((function(e,a){var n=t(e[0],a[0]);return 0!==n?n:e[1]-a[1]})),a.map((function(e){return e[0]}))}(o,function(e,t){return"desc"===e?function(e,a){return h(e,a,t)}:function(e,a){return-h(e,a,t)}}(d,f)).map((function(e){return r.a.createElement(Ue,{key:e.id,id:e.id,name:e.name})})):null)))},Qe=[{id:"name",numeric:!1,disablePadding:!1,label:"Name"},{id:"action",numeric:!1,disablePadding:!1,label:""}];var Ve=function(){var e=Object(R.b)(),t=Object(R.c)((function(e){return e.stations.stations}));return Object(n.useEffect)((function(){e((function(e){e({type:"FETCH_STATIONS_REQUEST"}),m.a.get("".concat("https://stardatabase.palladium46.fr","/api/station")).then((function(t){e({type:"FETCH_STATIONS_SUCCESS",payload:t.data})})).catch((function(t){e(function(e){return{type:"FETCH_STATIONS_FAILURE",payload:e}}(t.message))}))}))}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(H.a,{container:!0,spacing:3},r.a.createElement(H.a,{item:!0,md:8,xs:12},r.a.createElement(ze,{stations:t,headCells:Qe})),r.a.createElement(H.a,{container:!0,direction:"column",spacing:3,item:!0,md:4,xs:12},r.a.createElement(xe,null))))};var Ke=function(e){var t=e.dataPrice,a=void 0===t?[]:t,n={chart:{toolbar:{show:!1},zoom:{enabled:!1},animations:{enabled:!1},locales:[be],defaultLocale:"fr"},grid:{padding:{right:30,left:20}},xaxis:{type:"datetime",labels:{show:!1}},yaxis:{labels:{show:!1}},stroke:{width:5},markers:{size:0}};return r.a.createElement(r.a.Fragment,null,a.data.length>1?r.a.createElement(fe.a,{options:n,height:"200",series:[a],type:"area",width:"100%"}):null)},qe=Object(j.a)((function(e){return{section1:{margin:e.spacing(2)},avatar:{width:e.spacing(15),height:e.spacing(15),margin:e.spacing(1)}}}));var We=function(e){var t=e.station,a=qe();return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:a.section1},r.a.createElement(F.a,{variant:"h4"},t.name)),r.a.createElement(je.a,{variant:"middle"}),r.a.createElement("div",{className:a.section1},r.a.createElement(X.a,{display:"flex",alignItems:"center",justifyContent:"space-between"},r.a.createElement(F.a,{variant:"h5"},"Selling price"),r.a.createElement(Ie,{value:t.currentSellingPrice,previousValue:t.previousSellingPrice})),void 0!==t.sellDataPrice?r.a.createElement(Ke,{dataPrice:t.sellDataPrice}):null),r.a.createElement(je.a,{variant:"middle"}),r.a.createElement("div",{className:a.section1},r.a.createElement(X.a,{display:"flex",alignItems:"center",justifyContent:"space-between"},r.a.createElement(F.a,{variant:"h5"},"Buying price"),r.a.createElement(Ie,{value:t.currentBuyingPrice,previousValue:t.previousBuyingPrice})),void 0!==t.buyDataPrice?r.a.createElement(Ke,{dataPrice:t.buyDataPrice}):null))},Ge=Object(j.a)((function(e){return{drawer:{width:250,"@media (min-width: 500px)":{width:400}},button:{"& > *":{margin:e.spacing(1)}}}}));var Je=function(e){var t=e.station,a=Ge(),i=Object(R.b)(),c=Object(R.c)((function(e){return e.itemDetail.item})),l=Object(n.useState)(!1),o=Object(k.a)(l,2),u=o[0],s=o[1];Object(n.useEffect)((function(){var e,a;i((e=t.id,a=c.id,v(e,a,"sell"))),i(function(e,t){return v(e,t,"buy")}(t.id,c.id))}),[]);var m=function(e){return function(a){("keydown"!==a.type||"Tab"!==a.key&&"Shift"!==a.key)&&(i(function(e){return{type:"SELECT_STATION_DETAIL",payload:e}}(t)),s(e))}};return r.a.createElement(r.a.Fragment,null,r.a.createElement(Q.a,{hover:!0},r.a.createElement(z.a,null,r.a.createElement(Pe.a,{component:I.b,to:"/StarDataBase/station/".concat(t.id,"/items"),color:"inherit"},t.name)),r.a.createElement(z.a,null,void 0!==t.sellPrices&&t.sellPrices.length>1?r.a.createElement(Oe.b,{width:100,height:30,data:t.sellPrices},r.a.createElement(Oe.a,{type:"monotone",dataKey:"value",stroke:"#8884d8",strokeWidth:2,dot:!1,isAnimationActive:!1}),r.a.createElement(Oe.c,{type:"number",hide:!0,domain:["auto","auto"]})):null),r.a.createElement(z.a,{align:"right"},r.a.createElement(Ie,{value:t.currentSellingPrice,previousValue:t.previousSellingPrice})),r.a.createElement(z.a,null,void 0!==t.buyPrices&&t.buyPrices.length>1?r.a.createElement(Oe.b,{width:100,height:30,data:t.buyPrices},r.a.createElement(Oe.a,{type:"monotone",dataKey:"value",stroke:"#8884d8",strokeWidth:2,dot:!1,isAnimationActive:!1}),r.a.createElement(Oe.c,{type:"number",hide:!0,domain:["auto","auto"]})):null),r.a.createElement(z.a,{align:"right"},r.a.createElement(Ie,{value:t.currentBuyingPrice,previousValue:t.previousBuyingPrice})),r.a.createElement(z.a,{align:"right"},r.a.createElement(J.a,{size:"small","aria-label":"small outlined button group",className:a.button},r.a.createElement(N.a,{variant:"contained",color:"primary",component:I.b,to:"/StarDataBase/station/".concat(t.id,"/items")},"Go to station"),r.a.createElement(N.a,{variant:"contained",color:"primary",onClick:m(!0)},"Show")))),r.a.createElement(Y.a,{anchor:"right",open:u,onClose:m(!1)},r.a.createElement(X.a,{className:a.drawer,role:"presentation",onClick:m(!1),onKeyDown:m(!1)},r.a.createElement(We,{station:t}))))};var Ye=function(e){var t=e.headCells,a=Object(R.c)((function(e){return e.itemDetail.search})),i=Object(R.c)((function(e){return e.itemDetail.item})),c=Object(R.c)((function(e){return e.itemDetail.item.stations})),l=Object(n.useState)([]),o=Object(k.a)(l,2),u=o[0],s=o[1],m=Object(n.useState)("asc"),d=Object(k.a)(m,2),E=d[0],p=d[1],g=Object(n.useState)("name"),f=Object(k.a)(g,2),b=f[0],h=f[1];function y(e,t,a){return t[a]<e[a]?-1:t[a]>e[a]?1:0}return Object(n.useEffect)((function(){if(c.length>0&&a){var e=a.toLowerCase(),t=c.filter((function(t){return Object.keys(t).some((function(n){return"string"===typeof t[n]?t[n].toLowerCase().includes(e):"number"===typeof t[n]&&t[n]===Number(a)}))}));s(t)}else s(c)}),[c,a]),r.a.createElement(r.a.Fragment,null,u.length>0?r.a.createElement(x.a,{component:U.a,variant:"outlined"},r.a.createElement(M.a,{size:"small"},r.a.createElement(W,{headCells:t,order:E,orderBy:b,onRequestSort:function(e,t){p(b===t&&"asc"===E?"desc":"asc"),h(t)},rowCount:u.length}),r.a.createElement(B.a,null,u?function(e,t){var a=e.map((function(e,t){return[e,t]}));return a.sort((function(e,a){var n=t(e[0],a[0]);return 0!==n?n:e[1]-a[1]})),a.map((function(e){return e[0]}))}(u,function(e,t){return"desc"===e?function(e,a){return y(e,a,t)}:function(e,a){return-y(e,a,t)}}(E,b)).map((function(e){return r.a.createElement(Je,{key:e.id,item:i,station:e})})):null))):r.a.createElement(F.a,{variant:"h5"},"No stations"))},Xe=[{id:"name",numeric:!1,disablePadding:!1,label:"Name"},{id:"sellpriceevo",numeric:!1,disablePadding:!1,label:"Sell Price Evo."},{id:"currentSellingPrice",numeric:!0,disablePadding:!1,label:"Sell Price"},{id:"buypriceevo",numeric:!1,disablePadding:!1,label:"Buy Price Evo."},{id:"currentBuyingPrice",numeric:!0,disablePadding:!1,label:"Buy Price"},{id:"action",numeric:!1,disablePadding:!1,label:""}],Ze=Object(j.a)((function(e){return{section1:{margin:e.spacing(0,0,4,0)},avatar:{width:e.spacing(10),height:e.spacing(10)}}}));var $e=function(){var e=Object(O.g)().id,t=Ze(),a=Object(R.b)(),i=Object(R.c)((function(e){return e.itemDetail.item}));return Object(n.useEffect)((function(){var t;return a((t=e,function(e){e({type:"FETCH_ITEM_DETAIL_REQUEST"}),m.a.get("".concat("https://stardatabase.palladium46.fr","/api/item/").concat(t)).then((function(t){e({type:"FETCH_ITEM_DETAIL_SUCCESS",payload:t.data})})).catch((function(t){e(function(e){return{type:"FETCH_ITEM_DETAIL_FAILURE",payload:e}}(t.message))}))})),function(){a({type:"CLEAR_ITEM_DETAIL"})}}),[e]),r.a.createElement(r.a.Fragment,null,r.a.createElement(ke,null),r.a.createElement(X.a,{display:"flex",justifyContent:"space-between",alignItems:"center"},r.a.createElement(F.a,{variant:"h3"},i.name),r.a.createElement(G.a,{src:null!==i.imgPath?"".concat("https://stardatabase.palladium46.fr").concat(i.imgPath):i.imgPath,className:t.avatar})),r.a.createElement($,{item:i}),r.a.createElement(F.a,{variant:"body1",className:t.section1},i.description),r.a.createElement(H.a,{container:!0,spacing:3},r.a.createElement(H.a,{item:!0},r.a.createElement(ue,{searchHandler:function(e){a({type:"SEARCH_ITEM_DETAIL",payload:e.target.value})}})),r.a.createElement(H.a,{item:!0,xs:12},r.a.createElement(Ye,{headCells:Xe}))))},et=Object(j.a)((function(e){return{margin:{marginTop:16}}}));var tt=function(){var e=et();return r.a.createElement(I.a,null,r.a.createElement(L,null),r.a.createElement(P.a,{className:e.margin},r.a.createElement(O.c,null,r.a.createElement(O.a,{path:"/StarDataBase/item/:id",component:$e}),r.a.createElement(O.a,{path:"/StarDataBase/station/:id/items",component:Be}),r.a.createElement(O.a,{path:"/StarDataBase/stations",component:Ve}),r.a.createElement(O.a,{path:"/StarDataBase/items",component:me}),r.a.createElement(O.a,{path:"/StarDataBase/",component:Ve}))))};c.a.render(r.a.createElement(R.a,{store:_},r.a.createElement(tt,null)),document.getElementById("root"))}},[[271,1,2]]]);
//# sourceMappingURL=main.4019fb63.chunk.js.map