(this.webpackJsonpstarbase=this.webpackJsonpstarbase||[]).push([[0],{294:function(e,t,a){e.exports=a(437)},437:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(14),c=a.n(i),l=a(55),o=a(229),u=a(130),m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{items:[],loading:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_ITEMS_REQUEST":return Object(u.a)({},e,{loading:!0});case"FETCH_ITEMS_SUCCESS":return{loading:!1,items:t.payload,error:""};case"FETCH_ITEMS_FAILURE":return{loading:!1,items:[],error:t.payload};case"SEARCH_ITEM":return Object(u.a)({},e,{search:t.payload});case"SELECT_ITEM":return Object(u.a)({},e,{selectItem:t.payload});default:return e}},s=Object(l.c)({items:m}),d=(0,l.d)(Object(l.a)(o.a)),p=Object(l.e)(s,d),E=a(25),f=a(246),g=a(21),b=a(504),h=a(500),v=a(502),y=a(505),j=a(439),O=a(506),S=Object(h.a)((function(e){return{offset:e.mixins.toolbar,title:{flexGrow:1}}}));var P=function(){var e=S();return r.a.createElement(r.a.Fragment,null,r.a.createElement(v.a,null,r.a.createElement(b.a,null,r.a.createElement(y.a,null,r.a.createElement(j.a,{variant:"h6",className:e.title},"Starbase"),r.a.createElement(O.a,{color:"inherit"},"Login")))),r.a.createElement("div",{className:e.offset}))},T=a(22),C=a(519),k=function(){return{type:"FETCH_ITEMS_REQUEST"}},w=a(512),x=a(513),I=a(526),A=a(74),_=a(523),F=a(509),B=a(510),M=a(511),H=a(124),Z=a(125),D=Object(h.a)((function(e){return{moneyFont:{fontSize:20},moneyImage:{width:20}}}));var N=function(e){var t=e.value,a=e.previousValue,n=void 0===a?null:a,i=D();return r.a.createElement(_.a,{className:i.moneyFont,display:"flex",alignItems:"center",justifyContent:"flex-end"},t,r.a.createElement("img",{className:i.moneyImage,src:"".concat("/StarDataBase","/img/money.png"),alt:"Credit"}),t<(n=null===n?t:n)?r.a.createElement(F.a,{style:{color:H.a[500]}}):t>n?r.a.createElement(B.a,{style:{color:Z.a[500]}}):r.a.createElement(M.a,null))};var R=function(e){var t=e.id,a=e.name,n=e.rank,i=e.image,c=e.type,l=e.currentPrice,o=e.previousPrice,u=e.dataChartPrice,m=(e.updatedAt,Object(E.b)());return r.a.createElement(w.a,{onMouseOver:function(){m({type:"SELECT_ITEM",payload:t})},hover:!0},r.a.createElement(x.a,null,r.a.createElement(I.a,{src:"".concat("/StarDataBase").concat(i)})),r.a.createElement(x.a,null,a),r.a.createElement(x.a,null,c),r.a.createElement(x.a,null,n),r.a.createElement(x.a,null,u[0].data.length>1?r.a.createElement(A.a,{data:u,width:100,height:30,colors:"#ff3333",curve:"cardinal",lineWidth:1,enableGridX:!1,enableGridY:!1,axisBottom:null,axisLeft:null,enablePoints:!1,yScale:{type:"linear",min:"auto",max:"auto",stacked:!0,reverse:!1},margin:{top:2,right:2,bottom:2,left:2}}):null),r.a.createElement(x.a,{align:"right"},r.a.createElement(N,{value:l,previousValue:o})))},L=a(516),U=a(517),W=a(515),G=a(514),z=a(527),X=a(247),q=[{id:"image",numeric:!1,disablePadding:!1,label:""},{id:"name",numeric:!1,disablePadding:!1,label:"Name"},{id:"type",numeric:!1,disablePadding:!1,label:"Type"},{id:"rank",numeric:!1,disablePadding:!1,label:"Rank"},{id:"priceevo",numeric:!1,disablePadding:!1,label:"Price Evolution"},{id:"currentPrice",numeric:!0,disablePadding:!1,label:"Price"}],J=Object(h.a)((function(e){return{visuallyHidden:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1}}}));var Q=function(){var e=Object(E.c)((function(e){return e.items.items})),t=Object(E.c)((function(e){return e.items.search})),a=Object(n.useState)(e),i=Object(T.a)(a,2),c=i[0],l=i[1],o=J(),u=Object(n.useState)("asc"),m=Object(T.a)(u,2),s=m[0],d=m[1],p=Object(n.useState)("calories"),f=Object(T.a)(p,2),g=f[0],b=f[1];function h(e,t,a){return t[a]<e[a]?-1:t[a]>e[a]?1:0}function v(e){var t=e.classes,a=e.order,n=e.orderBy,i=e.onRequestSort;return r.a.createElement(G.a,null,r.a.createElement(w.a,null,q.map((function(e){return r.a.createElement(x.a,{key:e.id,align:e.numeric?"right":"left",padding:e.disablePadding?"none":"default",sortDirection:n===e.id&&a},r.a.createElement(z.a,{active:n===e.id,direction:n===e.id?a:"asc",onClick:(c=e.id,function(e){i(e,c)})},e.label,n===e.id?r.a.createElement("span",{className:t.visuallyHidden},"desc"===a?"sorted descending":"sorted ascending"):null));var c}))))}return Object(n.useEffect)((function(){if(e)if(t){var a=t.toLowerCase(),n=e.filter((function(e){return Object.keys(e).some((function(n){return"string"===typeof e[n]?e[n].toLowerCase().includes(a):"number"===typeof e[n]&&e[n]===Number(t)}))}));l(n)}else l(e)}),[e,t]),r.a.createElement(W.a,{component:X.a,variant:"outlined"},r.a.createElement(L.a,{stickyHeader:!0},r.a.createElement(v,{classes:o,order:s,orderBy:g,onRequestSort:function(e,t){d(g===t&&"asc"===s?"desc":"asc"),b(t)},rowCount:c.length}),r.a.createElement(U.a,null,c?function(e,t){var a=e.map((function(e,t){return[e,t]}));return a.sort((function(e,a){var n=t(e[0],a[0]);return 0!==n?n:e[1]-a[1]})),a.map((function(e){return e[0]}))}(c,function(e,t){return"desc"===e?function(e,a){return h(e,a,t)}:function(e,a){return-h(e,a,t)}}(s,g)).map((function(e){return r.a.createElement(R,{key:e.id,id:e.id,name:e.name,type:e.type,rank:e.rank,image:e.image,currentPrice:e.currentPrice,previousPrice:e.previousPrice,dataChartPrice:e.dataChartPrice,updatedAt:e.updatedAt})})):null)))},V=a(522),Y=a(518),K=a(245),$=a.n(K);var ee=function(){var e=Object(E.b)();return r.a.createElement(V.a,{id:"input-with-icon-textfield",label:"Search",InputProps:{startAdornment:r.a.createElement(Y.a,{position:"start"},r.a.createElement($.a,null))},fullWidth:!0,onChange:function(t){e({type:"SEARCH_ITEM",payload:t.target.value})}})};var te=function(e){var t=e.dataChartPrice;return r.a.createElement(r.a.Fragment,null,t[0].data.length>1?r.a.createElement(C.a,{item:!0},r.a.createElement(X.a,{variant:"outlined",style:{height:150}},r.a.createElement(A.b,{data:t,margin:{top:8,right:5,bottom:8,left:50},colors:"#467fcf",useMesh:!0,lineWidth:3,enableGridX:!1,axisBottom:null,enableSlices:"x",enableArea:!0}))):null)},ae=a(520),ne=a(521);var re=function(e){var t=e.name,a=e.description;return r.a.createElement(C.a,{item:!0},r.a.createElement(ae.a,{variant:"outlined"},r.a.createElement(ne.a,null,r.a.createElement(j.a,{variant:"h4",gutterBottom:!0},t),r.a.createElement(j.a,{variant:"body1"},a))))};var ie=function(e){var t=e.item;return r.a.createElement(r.a.Fragment,null,r.a.createElement(C.a,{item:!0},r.a.createElement(ee,null)),t?r.a.createElement(r.a.Fragment,null,r.a.createElement(re,{name:t.name,description:t.description}),r.a.createElement(te,{dataChartPrice:t.dataChartPrice})):null)},ce=a(128);var le=function(){var e=Object(E.c)((function(e){return e.items.items})),t=Object(n.useState)(e),i=Object(T.a)(t,2),c=i[0],l=i[1];return Object(n.useEffect)((function(){if(e){var t=a(435)()(e),n=[];t.map((function(e){e.dataChartPrice[0].data=[].concat(Object(ce.a)(e.dataChartPrice[0].data),[{x:new Date,y:e.currentPrice}]),n=[].concat(Object(ce.a)(n),Object(ce.a)(e.dataChartPrice))})),l(n)}}),[e]),r.a.createElement(r.a.Fragment,null,c.length>1?r.a.createElement(C.a,{item:!0},r.a.createElement(X.a,{variant:"outlined",style:{height:300}},r.a.createElement(A.b,{data:c,margin:{top:45,right:5,bottom:30,left:50},useMesh:!0,lineWidth:3,xScale:{type:"time",precision:"hour"},axisBottom:{format:"%b %d"},enableSlices:"x",pointSize:12,legends:[{anchor:"top-left",direction:"row",justify:!1,translateX:0,translateY:-32,itemsSpacing:0,itemDirection:"left-to-right",itemWidth:80,itemHeight:20,itemOpacity:.75,symbolSize:13,symbolShape:"circle",symbolBorderColor:"rgba(0, 0, 0, .5)",effects:[{on:"hover",style:{itemBackground:"rgba(0, 0, 0, .03)",itemOpacity:1}}]}]}))):null)};var oe=function(){var e=Object(E.c)((function(e){return e.items.items})),t=Object(E.c)((function(e){return e.items.selectItem})),a=Object(n.useState)(),i=Object(T.a)(a,2),c=i[0],l=i[1];return Object(n.useEffect)((function(){e&&t&&l(e.find((function(e){return e.id===t})))}),[e,t]),r.a.createElement(r.a.Fragment,null,r.a.createElement(C.a,{container:!0,spacing:3},r.a.createElement(C.a,{item:!0,xs:12},r.a.createElement(le,null))),r.a.createElement(C.a,{container:!0,spacing:3},r.a.createElement(C.a,{item:!0,md:8,xs:12},r.a.createElement(Q,null)),r.a.createElement(C.a,{container:!0,direction:"column",spacing:3,item:!0,md:4,xs:12},r.a.createElement(ie,{item:c}))))},ue=Object(h.a)((function(e){return{margin:{marginTop:16}}}));var me=function(){var e=Object(E.b)(),t=ue();return Object(n.useEffect)((function(){e((function(e){e(k);var t=[{id:"1",name:"Ajatite ore",description:"Potentially holds goodies.",image:"/img/ajatite_ore.png",rank:"worthless",type:"ore",prices:[],updatedAt:"2012-04-28T18:25:43.511Z"},{id:"2",name:"Ajatite",description:"Potentially holds goodies.",image:"/img/ajatite.png",rank:"worthless",type:"refined ore",prices:[{price:.77,date:"2020-05-15T18:25:43.511Z"}],updatedAt:"2020-05-15"},{id:"3",name:"Bastium",description:"Brown as dirt and just about as common.",image:"/img/bastium.png",rank:"low",type:"refined ore",prices:[{price:6,date:"2020-05-15T18:25:43.511Z"},{price:10,date:"2020-05-17T18:25:43.511Z"},{price:12,date:"2020-05-17T20:25:43.511Z"}],updatedAt:"2020-05-16T18:25:43.511Z"},{id:"4",name:"Arkanium",description:"Dark emerald green ore like that of a vipers ichor.",image:"/img/arkanium.png",rank:"rare",type:"refined ore",prices:[{price:100,date:"2020-05-15T18:25:43.511Z"},{price:130,date:"2020-05-16T17:25:43.511Z"},{price:160,date:"2020-05-17T18:25:43.511Z"}],updatedAt:"2020-05-16T18:25:43.511Z"}];t.map((function(e){e.prices.sort((function(e,t){return e=new Date(e.date).getTime(),(t=new Date(t.date).getTime())<e?1:-1}));var t=void 0!==e.prices[e.prices.length-1]?e.prices[e.prices.length-1].price:0;return e.currentPrice=t,e.previousPrice=void 0!==e.prices[e.prices.length-2]?e.prices[e.prices.length-2].price:null,e.dataChartPrice=[{id:e.name,color:"#467fcf",data:Object.keys(e.prices).map((function(t){return{x:new Date(e.prices[t].date),y:e.prices[t].price}}))}],e})),e(function(e){return{type:"FETCH_ITEMS_SUCCESS",payload:e}}(t))}))}),[]),r.a.createElement(f.a,null,r.a.createElement(P,null),r.a.createElement(b.a,{className:t.margin},r.a.createElement(g.c,null,r.a.createElement(g.a,{path:"/",component:oe}))))};c.a.render(r.a.createElement(E.a,{store:p},r.a.createElement(me,null)),document.getElementById("root"))}},[[294,1,2]]]);
//# sourceMappingURL=main.34c8f117.chunk.js.map